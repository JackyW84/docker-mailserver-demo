#! /bin/bash

# shellcheck source=../scripts/helpers/index.sh
source /usr/local/bin/helpers/index.sh

source ./common/quota.sh

function _main
{
  [[ ${1:-} == 'help' ]] && { __usage ; exit 0 ; }

  local MAIL_ACCOUNT="${1}"

  _validate_parameters
  _quota_remove_for_mail_account
}

function __usage { echo 'Usage: delquota <username@domain>' ; }

function _validate_parameters
{
  source ./common/helper.sh
  _arg_expect_mail_account_has_local_and_domain_parts
  _account_should_already_exist
}

_main "${@}"
