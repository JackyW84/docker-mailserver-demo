#! /bin/bash

# shellcheck source=../scripts/helpers/index.sh
source /usr/local/bin/helpers/index.sh

source ./common/virtual-aliases.sh

function _main
{
  [[ ${1:-} == 'help' ]] && { __usage ; exit 0 ; }

  local MAIL_ALIAS="${1}"
  local RECIPIENT="${2}"

  _validate_parameters
  _alias_remove_for_recipient "${RECIPIENT}" "${MAIL_ALIAS}"
}

function __usage { echo "Usage: delalias <alias@domain> <recipient@other>" ; }

function _validate_parameters
{
  _arg_expect_alias_and_recipient
}

_main "${@}"
